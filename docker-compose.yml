version: "3"
services:
  small:
    build: .
    image: afrobambacar/small
    container_name: small
    ports:
      - 3000:3000
    volumes:
      - .:/home/app/app
      - nodemodules:/home/app/app/node_modules
    healthcheck:
      test: ["CMD-SHELL", "curl", "-s", "http://localhost:3000/hello"]
      interval: 10s
      timeout: 10s
      retries: 3
volumes:
  nodemodules: